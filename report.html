<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Restaurant group" />


<title>Dining Safety in Manhattan: Analyzing NYC Restaurant Hygiene Ratings</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><Home></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li>
  <a href="aboutus.html">About Us</a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="demographics.html">Demographics</a>
</li>
<li>
  <a href="datasource.html">Data Source</a>
</li>
<li>
  <a href="location.html">Location</a>
</li>
<li>
  <a href="violations.html">Violations</a>
</li>
<li>
  <a href="cuisine.html">Cuisines</a>
</li>
<li>
  <a href="https://katherinewang0903.shinyapps.io/shinyapp/">Shiny App</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-envelope fa-lg"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:qh2285@cumc.columbia.edu">Qianxuan Huang</a>
    </li>
    <li>
      <a href="mailto:dw3093@cumc.columbia.edu">Katherine Wang</a>
    </li>
    <li>
      <a href="mailto:rd3096@cumc.columbia.edu">Ruicong Du</a>
    </li>
    <li>
      <a href="mailto:yh3683@cumc.columbia.edu">Yining He</a>
    </li>
    <li>
      <a href="mailto:wz2722@cumc.columbia.edu">Wentao Zhou</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/katherinewang0903/final_nyc_restaurant.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Dining Safety in Manhattan: Analyzing NYC
Restaurant Hygiene Ratings</h1>
<h4 class="author">Restaurant group</h4>

</div>


<p><br></p>
<p><em>Katherine Wang (dw3093), Ruicong Du (rd3096), Yining He(yh3683),
Qianxuan Huang (qh2285) Wentao Zhou (wz2722)</em></p>
<p><br></p>
<div id="motivation" class="section level3">
<h3>Motivation</h3>
<p>The motivation for this research is to evaluate food safety practices
in Manhattan through the New York City Department of Health and Mental
Hygiene (DOHMH) Restaurant Inspection Results dataset. This dataset
includes critical variables such as inspection scores, grades, and
violation descriptions, providing a foundation for analyzing trends and
identifying common issues in restaurant hygiene. Our focus is to uncover
patterns in food safety practices, highlight areas needing improvement,
and identify restaurants that consistently meet high standards. By doing
so, we aim to provide valuable insights for diners seeking safe and
high-quality dining experiences and contribute to the ongoing efforts to
maintain and improve public health standards in Manhattan’s diverse
dining landscape.</p>
<p><br></p>
</div>
<div id="related-work" class="section level3">
<h3>Related work</h3>
<p>We were inspired to undertake this analysis after examining the <a
href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/about_data">DOHMH
Restaurant Inspection Results dataset</a> available on <a
href="https://opendata.cityofnewyork.us/">NYC OpenData</a>. This dataset
offers comprehensive details on restaurant inspections, including
grades, scores, violation descriptions, and locations, making it an
excellent resource for studying food safety practices and trends in
Manhattan. Its depth and variety present a valuable opportunity to apply
data visualization and interactivity techniques while addressing
practical public health issues covered in our coursework.</p>
<p><br></p>
</div>
<div id="initial-questions" class="section level3">
<h3>Initial questions</h3>
<p>Our initial questions focused on restaurant hygiene issues in
Manhattan, aiming to help people identify restaurants that are both
suitable for their taste preferences and meet high hygiene standards. We
were interested in the following:</p>
<ol style="list-style-type: decimal">
<li><p>What is the most common cuisine type among restaurants in
Manhattan, and what are their hygiene ratings?</p></li>
<li><p>Are there significant differences in inspection scores among
different critical violations and location respectively?</p></li>
<li><p>Which cuisine types are more prone to critical health
violations?</p></li>
<li><p>How are inspection grades (A, B, C) distributed across different
part of Manhattan?</p></li>
<li><p>How does the cuisine type, inspection type, violation type,
location impact our overall hygiene grading?</p></li>
</ol>
<p><br></p>
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<p>This dataset is derived from the <a
href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/about_data">DOHMH
New York City Restaurant Inspection Results Dataset</a> and has been
specifically processed to focus on restaurant inspection results from
Manhattan for this project. It includes detailed records of health code
violations, inspection grades, and scores from establishments in active
status.</p>
<p>To prepare the data for analysis, we performed the following cleaning
steps:</p>
<p>Filtered the dataset to include only records where the
(<code>BORO</code>) field corresponds to <em>Manhattan</em>.</p>
<p>Removed entries with missing critical fields, such as
(<code>DBA</code>) (restaurant name), (<code>CUISINE</code>)
(<code>DESCRIPTION</code>), (<code>SCORE</code>), or
(<code>GRADE</code>).</p>
<p>Verified consistency in inspection dates and formatted them in date
format. Standardized continuous variables like (<code>SCORE</code>) to
ensure numeric values were properly stored.</p>
<p>Ensured all categorical variables, such as (<code>GRADE</code>), were
appropriately formatted and complete.</p>
<p>The final data used for analysis, saved <a
href="https://github.com/katherinewang0903/final_nyc_restaurant.github.io/blob/main/Manhattan_Restaurant_Inspection_Results.csv">here</a>,
contains 94,616 observations and includes the following variables:</p>
<ul>
<li><code>CAMIS</code>: Unique identifier for each restaurant
establishment.</li>
<li><code>DBA</code>: Doing Business As (DBA) name of the
establishment.</li>
<li><code>BORO</code>: Borough where the establishment is located
(Cleaned data we used only includes Manhattan).</li>
<li><code>BUILDING</code>: Building number where the establishment is
located.</li>
<li><code>STREET</code>: Street name where the establishment is
located.</li>
<li><code>ZIPCODE</code>: ZIP Code of the establishment.</li>
<li><code>PHONE</code>: Phone number of the establishment.</li>
<li><code>CUISINE DESCRIPTION</code>: Type of cuisine served by the
establishment.</li>
<li><code>INSPECTION DATE</code>: Date of the most recent
inspection.</li>
<li><code>ACTION</code>: Action taken based on the inspection
results.</li>
<li><code>VIOLATION CODE</code>: Code for the specific health code
violation.</li>
<li><code>VIOLATION DESCRIPTION</code>: Description of the health code
violation.</li>
<li><code>CRITICAL FLAG</code>: Indicator for critical health
violations.</li>
<li><code>SCORE</code>: Score assigned based on inspection results.</li>
<li><code>GRADE</code>: Grade assigned to the establishment (A, B, C,
etc.).</li>
<li><code>GRADE DATE</code>: Date when the grade was assigned.</li>
<li><code>RECORD DATE</code>: Date when the record was created or
updated.</li>
<li><code>INSPECTION TYPE</code>: Type of inspection conducted (initial,
reinspection, etc.).</li>
<li><code>Latitude</code>: Latitude coordinate of the
establishment.</li>
<li><code>Longitude</code>: Longitude coordinate of the
establishment.</li>
<li><code>Community Board</code>: Community Board where the
establishment is located.</li>
<li><code>Council District</code>: Council District where the
establishment is located.</li>
<li><code>Census Tract</code>: Census Tract where the establishment is
located.</li>
<li><code>BIN</code>: Building Identification Number.</li>
<li><code>BBL</code>: Borough-Block-Lot number.</li>
<li><code>NTA</code>: Neighborhood Tabulation Area of the
establishment.</li>
<li><code>Location Point1</code>: Geographic location of the
establishment.</li>
</ul>
<p><br></p>
</div>
<div id="exploratory-analysis" class="section level3">
<h3>Exploratory analysis</h3>
<p>As for <a
href="https://katherinewang0903.github.io/final_nyc_restaurant.github.io/violations.html">analysis
related to violation</a>, we focuses exclusively on data where the
grades are A, B, or C, and excludes records with grades labeled as N
(Not Yet Graded), Z (Grade Pending), or P (Grade Pending issued upon
reopening after a closure). We also exclude “Not Applicable” entries for
critical violation indicators. Inspection violations are categorized
into two groups: Critical and Not Critical. Critical violations
represent the most significant risks for foodborne illnesses. To ensure
accuracy and relevance, we begin by filtering out unnecessary data from
the dataset before proceeding with the analysis. <br></p>
<p>First, we analyze the frequency distribution of grades. For both
Critical and Not Critical groups, the majority of restaurants received a
Grade A, followed by Grade B, and then Grade C. However, only within
Grade A do we observe more restaurants with Not Critical violations
compared to Critical violations. Additionally, when examining inspection
scores across all grade categories, restaurants with Not Critical
violations consistently achieve lower scores. This pattern aligns with
the corresponding grade results, further highlighting the relationship
between inspection outcomes and grade assignments. <br></p>
<p>Next, we conducted a Chi-Square Test to examine the relationship
between the critical flag and grade. The results are visualized using a
Contingency Table Heatmap. The analysis shows a p-value smaller than
0.05, leading us to reject the null hypothesis that the critical flag
and grade are independent. This indicates a significant relationship
between the critical flag and grade at the 0.05 significance level.
<br></p>
<p>Among all restaurants with critical violations, we aimed to identify
the most common types of violations. To achieve this, we calculated the
percentage of each violation type and grouped all categories with less
than 3% into an “Other” category for clarity. The results are summarized
in a pie chart, providing a clear visualization of the distribution of
critical violations. The analysis reveals that the most frequent
critical violation is related to washing and temperature problem. These
are more than a quarter in total percentage. This finding underscores
the importance of proper temperature management and remain cleaning in
ensuring food safety and reducing the risk of foodborne illnesses. Also,
restaurants owner who want to avoid bad grade in inspection need to
perticullar pay attention to them. <br></p>
<p><br></p>
</div>
<div id="shiny-app" class="section level3">
<h3>Shiny app</h3>
<p><br></p>
</div>
<div id="discussion" class="section level3">
<h3>Discussion</h3>
<p><br></p>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<ol style="list-style-type: decimal">
<li><a
href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/about_data"
class="uri">https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/about_data</a></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
